import"./index-DQllQ-ab.js";import{g as x,a as S}from"./countryDataManajerJson-BXTmO6C4.js";let B="/tupais/";function $(t,n){let e=[];for(let s=0;s<t.length;s++)n(t[s],s,t)&&e.push(t[s]);return e}async function I(t){return new Promise(async(n,e)=>{let s=await x(),o="",i=[];for(let l of s)i.push(l.translations.spa.common);i=i.sort();for(let l=0;l<i.length;l++){let[a]=$(s,y=>y.translations.spa.common===i[l]),c=a.cca2.toLowerCase(),r=a.translations.spa.common;if(a.name.official==="Sultanate of Oman"){o+=`<li class="flag-gallery__item">
         <figure class="flag-gallery__flag-container">
              <img src="/tupais/images/flags/om.png" alt="" class="flag-gallery__flag" />
              <figcaption class="flag-gallery__flag-description">${r}</figcaption>
           </figure></li>`;continue}let d=`/tupais/images/flags/${c}.svg`;o+=`
      <li class="flag-gallery__item">
         <figure class="flag-gallery__flag-container">
              <img src="${d}" alt="Bandera de ${r}" loading="eager" class="flag-gallery__flag" />
              <div class="flag-gallery__description-container">
              <figcaption class="flag-gallery__flag-description ${localStorage.getItem("darkMode")==="1"?"dark-mode__game-text":""}">${r}</figcaption>
              <div class="flag-gallery__flag-fullname">${a.name.official}</div>
               <button class="flag-gallery__button-info ${localStorage.getItem("darkMode")==="1"?"dark-mode__info-button":""}" type="button" title="Info">
                  <span class="flag-gallery__button-info--text">
                     !
                  </span>
               </button>
           </figure>
              </div>
      </li>`}t.innerHTML=o,n()})}function g(t){const n={á:"a",é:"e",í:"i",ó:"o",ú:"u",ü:"u",Á:"A",É:"E",Í:"I",Ó:"O",Ú:"U",Ü:"U"};return t.replace(/[áéíóúüÁÉÍÓÚÜ]/g,function(e){return n[e]})}function C(t,n){if(n==="gini"){if(!t)return"--";let e=Object.keys(t);return`${t[e[0]]} (${e[0]})`}if(n==="languages"){if(!t)return"--";let e=Object.keys(t),s="";for(let o=0;o<e.length;o++){if(o===e.length-1){s+=`${t[e[o]]}`;continue}s+=`${t[e[o]]}, `}return s}if(n==="borders"){if(!t)return"--";let e=Object.keys(t),s="";for(let o=0;o<e.length;o++){if(o===e.length-1){s+=`${t[e[o]]}`;continue}s+=`${t[e[o]]}, `}return s}if(n==="currencies"){if(!t)return"--";let e=Object.keys(t),s="";if(e.length===1){let o=t[e[0]],i=Object.keys(o);s+=`${o[i[0]]} (${o[i[1]]})`}if(e.length>1)for(let o=0;o<e.length;o++){if(o===e.length-1){let a=t[e[o]],c=Object.keys(a);s+=`${a[c[0]]} (${a[c[1]]})`;continue}let i=t[e[o]],l=Object.keys(i);s+=`${i[l[0]]} (${i[l[1]]}), `}return s}}async function T(t){let[n]=document.getElementsByClassName("flag-gallery"),e=await S(t),s=`
      <div class="features">
         <button class="features__close-button" title="Cerrar" type="button"
                    >
                </button>
      
         <h3 class="features__title">Características</h3>
         <ul class="features__list">
            <li class="features__item">
            Nombre oficial: <br />
            ${e.translations.spa.official}
            </li>
            <li class="features__item">
            Continenete: <br />
            ${e.region}
            </li>
            <li class="features__item">
            Subregión: <br />
            ${e.subregion?e.subregion:"--"}
            </li>
            <li class="features__item">
            Capital: <br />
            ${e.capital?e.capital:"--"}
            </li>
            <li class="features__item">
               Área: <br />
               ${e.area} km<sup>2</sup>
            </li>
            <li class="features__item">
               Idiomas: <br />
               ${C(e.languages,"languages")}
            </li>
            <li class="features__item">
               Población: <br />
               ${e.population} hab.
            </li>
            <li class="features__item">
               Países limítrofes: <br />
               ${C(e.borders,"borders")}
            </li>
            <li class="features__item">
               Monedas: <br />
               ${C(e.currencies,"currencies")}
            </li>
            <li class="features__item">
               Coeficiente de Gini: <br />
               ${C(e.gini,"gini")}
            </li>
            <li class="features__item">
               Acceso al mar: <br />
               ${e.landlocked?"No":"Yes"}
            </li>
         </ul>
      </div>
   `;setTimeout(()=>{n.insertAdjacentHTML("beforeend",s);let[o]=document.getElementsByClassName("features__close-button");o.addEventListener("click",()=>{const[i]=document.getElementsByClassName("features");i.remove()})},0)}document.addEventListener("DOMContentLoaded",async function(){const[t]=document.getElementsByClassName("flag-gallery__list"),[n]=document.getElementsByClassName("flag-gallery__scroll-top"),[e]=document.getElementsByClassName("flag-gallery__btSearch"),[s]=document.getElementsByClassName("flag-gallery__search"),[o]=document.getElementsByClassName("flag-gallery__home"),[i]=document.getElementsByClassName("flag-gallery__clearSearch"),[l]=document.getElementsByClassName("preview-names__list");F(),w(),await I(t).then(()=>{const a=document.getElementsByClassName("flag-gallery__flag-fullname"),c=document.getElementsByClassName("flag-gallery__button-info");for(let r=0;r<c.length;r++)c[r].addEventListener("click",()=>{T(a[r].textContent)})}),n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),e.addEventListener("click",p),s.addEventListener("keydown",a=>{if(a.key==="Enter"){a.preventDefault();const[c]=document.getElementsByClassName("preview-names__list");c.style.display="none",p(a)}}),o.addEventListener("click",p),s.addEventListener("input",k),s.addEventListener("focus",a=>{const[c]=document.getElementsByClassName("preview-names__list"),r=document.getElementsByClassName("preview-names__item"),[d]=document.getElementsByClassName("flag-gallery__search");k({target:d}),c.style.display="block",r.length===0&&d.value===""&&document.querySelectorAll(".flag-gallery__flag-description").forEach(y=>{const m=document.createElement("li"),u=document.createElement("span");u.textContent=y.textContent,u.classList.add("preview-names__span"),m.classList.add("preview-names__item"),m.appendChild(u),c.appendChild(m),m.addEventListener("click",E)}),d.value===""&&k(a)}),i.addEventListener("click",()=>{s.value="",s.focus(),i.style.display="none"}),l.addEventListener("mouseenter",()=>{const a=document.getElementsByClassName("preview-names__item");for(let c=0;c<a.length;c++)if(a[c].style.backgroundColor==="rgb(245, 245, 245)"){a[c].style.backgroundColor="";break}}),window.addEventListener("scroll",O),A()});function k(t){const[n]=document.getElementsByClassName("preview-names__list"),[e]=document.getElementsByClassName("flag-gallery__search"),[s]=document.getElementsByClassName("flag-gallery__clearSearch"),[o]=document.getElementsByClassName("preview-names__inputText");o.textContent=t.target.value;let i=g(t.target.value.toLowerCase()),l=new RegExp(`${i}`);e.value!==""&&(s.style.display="block"),e.value===""&&(s.style.display="none"),document.querySelectorAll(".flag-gallery__flag-description").forEach(r=>{const d=document.getElementsByClassName("preview-names__item");if(e.value===""){for(let v of d)if(g(r.textContent.toLowerCase())===g(v.textContent.toLowerCase()))return;const m=document.createElement("li"),u=document.createElement("span");u.textContent=r.textContent,m.classList.add("preview-names__item"),u.classList.add("preview-names__span"),m.appendChild(u),n.appendChild(m),m.addEventListener("click",E)}if(l.test(g(r.textContent.toLowerCase()))){for(let v of d)if(g(r.textContent.toLowerCase())===g(v.textContent.toLowerCase()))return;const m=document.createElement("li"),u=document.createElement("span");u.textContent=r.textContent,m.classList.add("preview-names__item"),u.classList.add("preview-names__span"),m.appendChild(u),n.appendChild(m),m.addEventListener("click",E)}const y=document.getElementsByClassName("preview-names__item");for(let m of y)l.test(g(m.textContent.toLowerCase()))||m.remove();Array.from(n.children).sort((m,u)=>m.textContent.localeCompare(u.textContent)).forEach(m=>n.appendChild(m))});const a=n.getElementsByClassName("preview-names__item");if(a.length===0&&!document.getElementsByClassName("preview-names__item--not-found")[0]){const r=document.createElement("li"),d=document.createElement("span");d.textContent="No se encontraron resultados",r.classList.add("preview-names__item--not-found"),d.classList.add("preview-names__span"),r.appendChild(d),n.appendChild(r)}if(a.length!==0){const[r]=document.getElementsByClassName("preview-names__item--not-found");r&&r.remove()}const c=document.getElementsByClassName("preview-names__item");for(let r=0;r<c.length;r++)if(c[r].style.backgroundColor==="rgb(245, 245, 245)"){c[r].style.backgroundColor="";break}}function E(t){const[n]=document.getElementsByClassName("flag-gallery__search"),[e]=document.getElementsByClassName("preview-names__list");if(t.target.nodeName==="LI"){const[s]=t.target.getElementsByClassName("preview-names__span");n.value=s.textContent,e.style.display="none",p(t)}t.target.nodeName==="SPAN"&&(n.value=t.target.textContent,e.style.display="none",p(t))}async function M(){const[t]=document.getElementsByClassName("flag-gallery__search");let n=g(t.value.toLowerCase()),e=new RegExp(`${n}`);document.querySelectorAll(".flag-gallery__item").forEach(s=>{const o=s.querySelector(".flag-gallery__flag-description");e.test(g(o.textContent.toLowerCase()))&&(setTimeout(function(){s.classList.remove("filter")},100),setTimeout(function(){s.style.opacity=1},200)),e.test(g(o.textContent.toLowerCase()))||(setTimeout(function(){s.classList.add("filter")},300),s.style.opacity=0)}),setTimeout(()=>{const s=document.getElementsByClassName("flag-gallery__item"),[o]=document.getElementsByClassName("flag-gallery__item--not-found");for(let a of s)if(!a.classList.contains("filter")){o&&o.remove();return}const[i]=document.getElementsByClassName("flag-gallery__list"),[l]=document.getElementsByClassName("flag-gallery");if(!o){const a=document.createElement("li");a.textContent="No se encontraron resultados",a.classList.add("flag-gallery__item--not-found"),i.appendChild(a),l.classList.contains("dark-mode__page")&&a.classList.add("dark-mode__game-text")}},500),t.blur()}async function P(){const[t]=document.getElementsByClassName("flag-gallery__clearSearch"),[n]=document.getElementsByClassName("flag-gallery__search");t.style.display="none";let e="",s=new RegExp(`${e}`);n.value="",document.querySelectorAll(".flag-gallery__item").forEach(o=>{const i=o.querySelector(".flag-gallery__flag-description");s.test(g(i.textContent.toLowerCase()))&&(setTimeout(function(){o.classList.remove("filter")},100),setTimeout(function(){o.style.opacity=1},200)),s.test(g(i.textContent.toLowerCase()))||(setTimeout(function(){o.classList.add("filter")},300),o.style.opacity=0)}),setTimeout(()=>{const o=document.getElementsByClassName("flag-gallery__item"),[i]=document.getElementsByClassName("flag-gallery__item--not-found");for(let l of o)if(!l.classList.contains("filter")){i&&i.remove();return}},500)}async function p(t){const[n]=document.getElementsByClassName("loading-animation");if(n.style.display==="block")return;const[e]=document.getElementsByClassName("flag-gallery__home"),[s]=document.getElementsByClassName("flag-gallery__container--1"),[o]=document.getElementsByClassName("flag-gallery"),[i]=document.getElementsByClassName("flag-gallery__btSearch");i.removeEventListener("click",p),e.removeEventListener("click",p),o.style.position="fixed";const l=document.createElement("div");s.appendChild(l),l.classList.add("overlappingBackground__flag-gallery"),localStorage.getItem("darkMode")==="1"&&l.classList.add("dark-mode__page"),l.style.height=`${s.clientHeight}px`,n.style.display="block",n.style.opacity="1",t.target!==e&&await M(),t.target===e&&await P(),setTimeout(()=>{l.style.opacity="0",n.style.opacity="0"},1e3),setTimeout(()=>{l.remove(),n.style.display="none",o.style.position="initial",i.addEventListener("click",p),e.addEventListener("click",p)},1300)}document.addEventListener("click",t=>{const[n]=document.getElementsByClassName("features");n&&(n.contains(t.target)||n.remove())});document.addEventListener("click",t=>{const[n]=document.getElementsByClassName("preview-names__list"),[e]=document.getElementsByClassName("flag-gallery__search");if(t.target!==e&&!n.contains(t.target)){if(document.activeElement===e)return;n.style.display="none";return}});document.addEventListener("keydown",t=>{const[n]=document.getElementsByClassName("features"),[e]=document.getElementsByClassName("flag-gallery__search"),[s]=document.getElementsByClassName("preview-names__list"),[o]=document.getElementsByClassName("preview-names__inputText"),[i]=document.getElementsByClassName("flag-gallery__clearSearch");if(document.activeElement===e){const l=document.getElementsByClassName("preview-names__item");if(t.key==="Escape"){t.preventDefault(),e.blur(),e.value=o.textContent,s.style.display="none";return}if(t.key==="ArrowUp"){if(t.preventDefault(),l.length===0)return;let a=null;for(let c=0;c<l.length;c++)if(l[c].style.backgroundColor==="rgb(245, 245, 245)"){a=c-1;break}if(a===-1){l[0].style.backgroundColor="",e.value=o.textContent,e.value!==""?i.style.display="block":i.style.display="none";return}if(a===null){a=l.length-1,l[a].style.backgroundColor="rgb(245, 245, 245)",e.value=l[a].textContent,s.scrollTo({top:l[l.length-1].offsetTop-50,behavior:"instant"}),e.value!==""?i.style.display="block":i.style.display="none";return}s.scrollTo({top:l[a].offsetTop-50,behavior:"instant"}),l[a+1].style.backgroundColor="",l[a].style.backgroundColor="rgb(245, 245, 245)",e.value=l[a].textContent,e.value!==""?i.style.display="block":i.style.display="none"}if(t.key==="ArrowDown"){if(l.length===0)return;let a=null;for(let c=0;c<l.length;c++)if(l[c].style.backgroundColor==="rgb(245, 245, 245)"){a=c+1;break}if(a===l.length){l[l.length-1].style.backgroundColor="",e.value=o.textContent,e.value!==""?i.style.display="block":i.style.display="none";return}if(a===null){a=0,l[a].style.backgroundColor="rgb(245, 245, 245)",e.value=l[a].textContent,s.scrollTo({top:l[0].offsetTop-50,behavior:"instant"}),e.value!==""?i.style.display="block":i.style.display="none";return}s.scrollTo({top:l[a].offsetTop-50,behavior:"instant"}),l[a-1].style.backgroundColor="",l[a].style.backgroundColor="rgb(245, 245, 245)",e.value=l[a].textContent,e.value!==""?i.style.display="block":i.style.display="none"}}t.key==="Escape"&&n&&n.remove()});function A(){const[t]=document.getElementsByClassName("navbar__button--open"),[n]=document.getElementsByClassName("navbar"),[e]=document.getElementsByClassName("navbar__button--close"),[s]=document.getElementsByClassName("footer__icon-github"),[o]=document.getElementsByClassName("flag-gallery");s.addEventListener("mouseover",()=>{let l=B+"/images/icons";o.classList.contains("dark-mode__page")?s.style.backgroundImage=`url(${l+"/icons-github-dark-mode-hover.svg"})`:s.style.backgroundImage=`url(${l+"/icons-github.svg"})`,s.addEventListener("mouseout",()=>{o.classList.contains("dark-mode__page")?s.style.backgroundImage=`url(${l+"/icons-github-dark-mode.svg"})`:s.style.backgroundImage=`url(${l+"/icons-github-hover.svg"})`})}),t.addEventListener("click",function(l){if(n.style.left==="-25rem"||n.style.left===""){new Promise(a=>{n.style.left="0rem",a()}).then(a=>{setTimeout(()=>{document.addEventListener("click",i)},0)});return}if(n.style.left==="0rem"){n.contains(l.target)||(n.style.left="-25rem",document.removeEventListener("click",i));return}});function i(l){n.contains(l.target)||(n.style.left="-25rem",document.removeEventListener("click",i))}e.addEventListener("click",function(){n.style.left="-25rem",document.removeEventListener("click",i)}),document.addEventListener("keydown",l=>{l.key==="Escape"&&n.style.left==="0rem"&&(n.style.left="-25rem")})}function O(){const[t]=document.getElementsByClassName("flag-gallery__scroll-top");window.scrollY>=200?t.style.display!=="block"&&(t.style.display="block",setTimeout(()=>{t.style.opacity="1"},0)):t.style.display==="block"&&(t.style.opacity="0",setTimeout(()=>{t.style.display="none"},400))}function w(){function t(o){const[i]=document.getElementsByClassName("flag-gallery"),[l]=document.getElementsByClassName("flag-gallery__main"),[a]=document.getElementsByClassName("header"),[c]=document.getElementsByClassName("footer"),[r]=document.getElementsByClassName("header__title"),[d]=document.getElementsByClassName("navbar__button--open"),[y]=document.getElementsByClassName("footer__paragraph"),[m]=document.getElementsByClassName("header__settings"),[u]=document.getElementsByClassName("flag-gallery__subtitle"),[v]=document.getElementsByClassName("footer__icon-github"),[_]=document.getElementsByClassName("loading-animation__circle"),[b]=document.getElementsByClassName("flag-gallery__item--not-found"),h=document.getElementsByClassName("flag-gallery__button-info"),L=document.getElementsByClassName("navbar__icon"),N=document.getElementsByClassName("flag-gallery__flag-description");if(o==="activate"){a.classList.add("dark-mode__header"),c.classList.add("dark-mode__footer"),r.classList.add("dark-mode__header--title"),y.classList.add("dark-mode__game-text"),i.classList.add("dark-mode__page"),l.classList.add("dark-mode__page"),m.classList.add("dark-mode__button-settings"),d.classList.add("dark-mode__navbar-button-open"),v.classList.add("dark-mode__github-bt"),u.classList.add("dark-mode__game-text"),_.classList.add("dark-mode__loading-animation"),b&&b.classList.add("dark-mode__game-text");for(let f of L)f.classList.add("dark-mode__navbar-icon");for(let f of N)f.classList.add("dark-mode__game-text");for(let f of h)f.classList.add("dark-mode__info-button")}if(o==="deactivate"){a.classList.remove("dark-mode__header"),c.classList.remove("dark-mode__footer"),r.classList.remove("dark-mode__header--title"),y.classList.remove("dark-mode__game-text"),i.classList.remove("dark-mode__page"),l.classList.remove("dark-mode__page"),m.classList.remove("dark-mode__button-settings"),d.classList.remove("dark-mode__navbar-button-open"),v.classList.remove("dark-mode__github-bt"),u.classList.remove("dark-mode__game-text"),_.classList.remove("dark-mode__loading-animation"),b&&b.classList.remove("dark-mode__game-text");for(let f of L)f.classList.remove("dark-mode__navbar-icon");for(let f of N)f.classList.remove("dark-mode__game-text");for(let f of h)f.classList.remove("dark-mode__info-button")}}const[n]=document.getElementsByClassName("dark-mode-bt"),[e]=document.getElementsByClassName("dark-mode-bt__circle");let s;if(localStorage.getItem("darkMode")===""){if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(localStorage.setItem("darkMode","1"),s=Number(localStorage.getItem("darkMode"))):(localStorage.setItem("darkMode","0"),s=Number(localStorage.getItem("darkMode"))),s){t("activate");return}return}else s=Number(localStorage.getItem("darkMode"));t(s?"activate":"deactivate"),n&&(s?(e.style.left="32px",n.style.backgroundColor="#0D336B"):(e.style.left="3px",n.style.backgroundColor="#BFE1FF")),n&&n.addEventListener("click",function(){e.style.left==="3px"?(e.style.left="32px",n.style.backgroundColor="#0D336B",localStorage.setItem("darkMode","1"),t("activate")):(e.style.left="3px",n.style.backgroundColor="#BFE1FF",localStorage.setItem("darkMode","0"),t("deactivate"))})}function F(){function t(a){a.style.height="14rem",a.style.width="26rem",a.style.opacity="0",setTimeout(()=>{a.style.opacity="1"},15),setTimeout(()=>{a.style.height="15rem",a.style.width="28rem"},15)}async function n(a){return new Promise(c=>{a.style.height="14rem",a.style.width="26rem",setTimeout(()=>{a.style.opacity="0"},15),setTimeout(()=>{c()},100)})}let e=B+"images/icons";const s=`       
            <section class="presentation__section">
            <button class="presentation__header-link" title="Cerrar" type="button"
                    >
                </button>
            
               <div class="presentation__div">
               <h2 class="presentation__subtitle">Configuración</h2>

               <div class="presentation__subtitle">Modo oscuro</div>
               <button class="dark-mode-bt" type="button" title="Modo oscuro">
                  <img width="20" height="20" 
                  src="${e}/icons-sun.svg" alt="sun-symbol" class="dark-mode-bt__sun"/>
    
                  <div class="dark-mode-bt__circle"></div>
           
                  <img width="20" height="20" 
                  src="${e}/icons-moon.png" alt="moon-symbol" class="dark-mode-bt__moon"/>
               </button>
        </section>
        <div class="blurry-background"></div>
`,[o]=document.getElementsByClassName("header__settings");let[i]=document.getElementsByClassName("flag-gallery");o.addEventListener("click",async()=>{l()});async function l(a){return new Promise(c=>{o.blur(),i.insertAdjacentHTML("beforeend",s);let[r]=document.getElementsByClassName("presentation__section"),[d]=document.getElementsByClassName("blurry-background");const[y]=document.getElementsByClassName("presentation__header-link");r.classList.add("settings"),t(r);function m(_){!r.contains(_.target)&&_.target!==o&&r.classList.contains("settings")&&n(r).then(()=>{d.remove(),r.remove(),document.removeEventListener("click",m)})}w(),y.addEventListener("click",function(){n(r).then(()=>{d.remove(),r.remove(),document.removeEventListener("click",m)})}),document.addEventListener("keydown",u),document.addEventListener("click",m);function u(_){v(_)}function v(_,b){_.key==="Escape"&&r&&n(r).then(()=>{d.remove(),r.remove(),document.removeEventListener("click",m),document.removeEventListener("keydown",u)})}})}}
