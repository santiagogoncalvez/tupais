import"./index-DQllQ-ab.js";import{g as w,a as x}from"./countryDataManajerJson-BXTmO6C4.js";function S(t,n){let e=[];for(let s=0;s<t.length;s++)n(t[s],s,t)&&e.push(t[s]);return e}async function I(t){return new Promise(async(n,e)=>{let s=await w(),l="",i=[];for(let a of s)i.push(a.translations.spa.common);i=i.sort();for(let a=0;a<i.length;a++){let[o]=S(s,g=>g.translations.spa.common===i[a]),r=o.cca2.toLowerCase(),c=o.translations.spa.common;if(o.name.official==="Sultanate of Oman"){l+=`<li class="flag-gallery__item">
         <figure class="flag-gallery__flag-container">
              <img src="/images/flags/om.png" alt="" class="flag-gallery__flag" />
              <figcaption class="flag-gallery__flag-description">${c}</figcaption>
           </figure></li>`;continue}let u=`/images/flags/${r}.svg`;l+=`
      <li class="flag-gallery__item">
         <figure class="flag-gallery__flag-container">
              <img src="${u}" alt="Bandera de ${c}" loading="eager" class="flag-gallery__flag" />
              <div class="flag-gallery__description-container">
              <figcaption class="flag-gallery__flag-description ${localStorage.getItem("darkMode")==="1"?"dark-mode__game-text":""}">${c}</figcaption>
              <div class="flag-gallery__flag-fullname">${o.name.official}</div>
               <button class="flag-gallery__button-info ${localStorage.getItem("darkMode")==="1"?"dark-mode__info-button":""}" type="button" title="Info">
                  <span class="flag-gallery__button-info--text">
                     !
                  </span>
               </button>
           </figure>
              </div>
      </li>`}t.innerHTML=l,n()})}function y(t){const n={á:"a",é:"e",í:"i",ó:"o",ú:"u",ü:"u",Á:"A",É:"E",Í:"I",Ó:"O",Ú:"U",Ü:"U"};return t.replace(/[áéíóúüÁÉÍÓÚÜ]/g,function(e){return n[e]})}function C(t,n){if(n==="gini"){if(!t)return"--";let e=Object.keys(t);return`${t[e[0]]} (${e[0]})`}if(n==="languages"){if(!t)return"--";let e=Object.keys(t),s="";for(let l=0;l<e.length;l++){if(l===e.length-1){s+=`${t[e[l]]}`;continue}s+=`${t[e[l]]}, `}return s}if(n==="borders"){if(!t)return"--";let e=Object.keys(t),s="";for(let l=0;l<e.length;l++){if(l===e.length-1){s+=`${t[e[l]]}`;continue}s+=`${t[e[l]]}, `}return s}if(n==="currencies"){if(!t)return"--";let e=Object.keys(t),s="";if(e.length===1){let l=t[e[0]],i=Object.keys(l);s+=`${l[i[0]]} (${l[i[1]]})`}if(e.length>1)for(let l=0;l<e.length;l++){if(l===e.length-1){let o=t[e[l]],r=Object.keys(o);s+=`${o[r[0]]} (${o[r[1]]})`;continue}let i=t[e[l]],a=Object.keys(i);s+=`${i[a[0]]} (${i[a[1]]}), `}return s}}async function T(t){let[n]=document.getElementsByClassName("flag-gallery"),e=await x(t),s=`
      <div class="features">
         <button class="features__close-button" title="Cerrar" type="button"
                    >
                </button>
      
         <h3 class="features__title">Características</h3>
         <ul class="features__list">
            <li class="features__item">
            Nombre oficial: <br />
            ${e.translations.spa.official}
            </li>
            <li class="features__item">
            Continenete: <br />
            ${e.region}
            </li>
            <li class="features__item">
            Subregión: <br />
            ${e.subregion?e.subregion:"--"}
            </li>
            <li class="features__item">
            Capital: <br />
            ${e.capital?e.capital:"--"}
            </li>
            <li class="features__item">
               Área: <br />
               ${e.area} km<sup>2</sup>
            </li>
            <li class="features__item">
               Idiomas: <br />
               ${C(e.languages,"languages")}
            </li>
            <li class="features__item">
               Población: <br />
               ${e.population} hab.
            </li>
            <li class="features__item">
               Países limítrofes: <br />
               ${C(e.borders,"borders")}
            </li>
            <li class="features__item">
               Monedas: <br />
               ${C(e.currencies,"currencies")}
            </li>
            <li class="features__item">
               Coeficiente de Gini: <br />
               ${C(e.gini,"gini")}
            </li>
            <li class="features__item">
               Acceso al mar: <br />
               ${e.landlocked?"No":"Yes"}
            </li>
         </ul>
      </div>
   `;setTimeout(()=>{n.insertAdjacentHTML("beforeend",s);let[l]=document.getElementsByClassName("features__close-button");l.addEventListener("click",()=>{const[i]=document.getElementsByClassName("features");i.remove()})},0)}document.addEventListener("DOMContentLoaded",async function(){const[t]=document.getElementsByClassName("flag-gallery__list"),[n]=document.getElementsByClassName("flag-gallery__scroll-top"),[e]=document.getElementsByClassName("flag-gallery__btSearch"),[s]=document.getElementsByClassName("flag-gallery__search"),[l]=document.getElementsByClassName("flag-gallery__home"),[i]=document.getElementsByClassName("flag-gallery__clearSearch"),[a]=document.getElementsByClassName("preview-names__list");O(),B(),await I(t).then(()=>{const o=document.getElementsByClassName("flag-gallery__flag-fullname"),r=document.getElementsByClassName("flag-gallery__button-info");for(let c=0;c<r.length;c++)r[c].addEventListener("click",()=>{T(o[c].textContent)})}),n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),e.addEventListener("click",v),s.addEventListener("keydown",o=>{if(o.key==="Enter"){o.preventDefault();const[r]=document.getElementsByClassName("preview-names__list");r.style.display="none",v(o)}}),l.addEventListener("click",v),s.addEventListener("input",k),s.addEventListener("focus",o=>{const[r]=document.getElementsByClassName("preview-names__list"),c=document.getElementsByClassName("preview-names__item"),[u]=document.getElementsByClassName("flag-gallery__search");k({target:u}),r.style.display="block",c.length===0&&u.value===""&&document.querySelectorAll(".flag-gallery__flag-description").forEach(g=>{const m=document.createElement("li"),d=document.createElement("span");d.textContent=g.textContent,d.classList.add("preview-names__span"),m.classList.add("preview-names__item"),m.appendChild(d),r.appendChild(m),m.addEventListener("click",E)}),u.value===""&&k(o)}),i.addEventListener("click",()=>{s.value="",s.focus(),i.style.display="none"}),a.addEventListener("mouseenter",()=>{const o=document.getElementsByClassName("preview-names__item");for(let r=0;r<o.length;r++)if(o[r].style.backgroundColor==="rgb(245, 245, 245)"){o[r].style.backgroundColor="";break}}),window.addEventListener("scroll",P),A()});function k(t){const[n]=document.getElementsByClassName("preview-names__list"),[e]=document.getElementsByClassName("flag-gallery__search"),[s]=document.getElementsByClassName("flag-gallery__clearSearch"),[l]=document.getElementsByClassName("preview-names__inputText");l.textContent=t.target.value;let i=y(t.target.value.toLowerCase()),a=new RegExp(`${i}`);e.value!==""&&(s.style.display="block"),e.value===""&&(s.style.display="none"),document.querySelectorAll(".flag-gallery__flag-description").forEach(c=>{const u=document.getElementsByClassName("preview-names__item");if(e.value===""){for(let f of u)if(y(c.textContent.toLowerCase())===y(f.textContent.toLowerCase()))return;const m=document.createElement("li"),d=document.createElement("span");d.textContent=c.textContent,m.classList.add("preview-names__item"),d.classList.add("preview-names__span"),m.appendChild(d),n.appendChild(m),m.addEventListener("click",E)}if(a.test(y(c.textContent.toLowerCase()))){for(let f of u)if(y(c.textContent.toLowerCase())===y(f.textContent.toLowerCase()))return;const m=document.createElement("li"),d=document.createElement("span");d.textContent=c.textContent,m.classList.add("preview-names__item"),d.classList.add("preview-names__span"),m.appendChild(d),n.appendChild(m),m.addEventListener("click",E)}const g=document.getElementsByClassName("preview-names__item");for(let m of g)a.test(y(m.textContent.toLowerCase()))||m.remove();Array.from(n.children).sort((m,d)=>m.textContent.localeCompare(d.textContent)).forEach(m=>n.appendChild(m))});const o=n.getElementsByClassName("preview-names__item");if(o.length===0&&!document.getElementsByClassName("preview-names__item--not-found")[0]){const c=document.createElement("li"),u=document.createElement("span");u.textContent="No se encontraron resultados",c.classList.add("preview-names__item--not-found"),u.classList.add("preview-names__span"),c.appendChild(u),n.appendChild(c)}if(o.length!==0){const[c]=document.getElementsByClassName("preview-names__item--not-found");c&&c.remove()}const r=document.getElementsByClassName("preview-names__item");for(let c=0;c<r.length;c++)if(r[c].style.backgroundColor==="rgb(245, 245, 245)"){r[c].style.backgroundColor="";break}}function E(t){const[n]=document.getElementsByClassName("flag-gallery__search"),[e]=document.getElementsByClassName("preview-names__list");if(t.target.nodeName==="LI"){const[s]=t.target.getElementsByClassName("preview-names__span");n.value=s.textContent,e.style.display="none",v(t)}t.target.nodeName==="SPAN"&&(n.value=t.target.textContent,e.style.display="none",v(t))}async function $(){const[t]=document.getElementsByClassName("flag-gallery__search");let n=y(t.value.toLowerCase()),e=new RegExp(`${n}`);document.querySelectorAll(".flag-gallery__item").forEach(s=>{const l=s.querySelector(".flag-gallery__flag-description");e.test(y(l.textContent.toLowerCase()))&&(setTimeout(function(){s.classList.remove("filter")},100),setTimeout(function(){s.style.opacity=1},200)),e.test(y(l.textContent.toLowerCase()))||(setTimeout(function(){s.classList.add("filter")},300),s.style.opacity=0)}),setTimeout(()=>{const s=document.getElementsByClassName("flag-gallery__item"),[l]=document.getElementsByClassName("flag-gallery__item--not-found");for(let o of s)if(!o.classList.contains("filter")){l&&l.remove();return}const[i]=document.getElementsByClassName("flag-gallery__list"),[a]=document.getElementsByClassName("flag-gallery");if(!l){const o=document.createElement("li");o.textContent="No se encontraron resultados",o.classList.add("flag-gallery__item--not-found"),i.appendChild(o),a.classList.contains("dark-mode__page")&&o.classList.add("dark-mode__game-text")}},500),t.blur()}async function M(){const[t]=document.getElementsByClassName("flag-gallery__clearSearch"),[n]=document.getElementsByClassName("flag-gallery__search");t.style.display="none";let e="",s=new RegExp(`${e}`);n.value="",document.querySelectorAll(".flag-gallery__item").forEach(l=>{const i=l.querySelector(".flag-gallery__flag-description");s.test(y(i.textContent.toLowerCase()))&&(setTimeout(function(){l.classList.remove("filter")},100),setTimeout(function(){l.style.opacity=1},200)),s.test(y(i.textContent.toLowerCase()))||(setTimeout(function(){l.classList.add("filter")},300),l.style.opacity=0)}),setTimeout(()=>{const l=document.getElementsByClassName("flag-gallery__item"),[i]=document.getElementsByClassName("flag-gallery__item--not-found");for(let a of l)if(!a.classList.contains("filter")){i&&i.remove();return}},500)}async function v(t){const[n]=document.getElementsByClassName("loading-animation");if(n.style.display==="block")return;const[e]=document.getElementsByClassName("flag-gallery__home"),[s]=document.getElementsByClassName("flag-gallery__container--1"),[l]=document.getElementsByClassName("flag-gallery"),[i]=document.getElementsByClassName("flag-gallery__btSearch");i.removeEventListener("click",v),e.removeEventListener("click",v),l.style.position="fixed";const a=document.createElement("div");s.appendChild(a),a.classList.add("overlappingBackground__flag-gallery"),localStorage.getItem("darkMode")==="1"&&a.classList.add("dark-mode__page"),a.style.height=`${s.clientHeight}px`,n.style.display="block",n.style.opacity="1",t.target!==e&&await $(),t.target===e&&await M(),setTimeout(()=>{a.style.opacity="0",n.style.opacity="0"},1e3),setTimeout(()=>{a.remove(),n.style.display="none",l.style.position="initial",i.addEventListener("click",v),e.addEventListener("click",v)},1300)}document.addEventListener("click",t=>{const[n]=document.getElementsByClassName("features");n&&(n.contains(t.target)||n.remove())});document.addEventListener("click",t=>{const[n]=document.getElementsByClassName("preview-names__list"),[e]=document.getElementsByClassName("flag-gallery__search");if(t.target!==e&&!n.contains(t.target)){if(document.activeElement===e)return;n.style.display="none";return}});document.addEventListener("keydown",t=>{const[n]=document.getElementsByClassName("features"),[e]=document.getElementsByClassName("flag-gallery__search"),[s]=document.getElementsByClassName("preview-names__list"),[l]=document.getElementsByClassName("preview-names__inputText"),[i]=document.getElementsByClassName("flag-gallery__clearSearch");if(document.activeElement===e){const a=document.getElementsByClassName("preview-names__item");if(t.key==="Escape"){t.preventDefault(),e.blur(),e.value=l.textContent,s.style.display="none";return}if(t.key==="ArrowUp"){if(t.preventDefault(),a.length===0)return;let o=null;for(let r=0;r<a.length;r++)if(a[r].style.backgroundColor==="rgb(245, 245, 245)"){o=r-1;break}if(o===-1){a[0].style.backgroundColor="",e.value=l.textContent,e.value!==""?i.style.display="block":i.style.display="none";return}if(o===null){o=a.length-1,a[o].style.backgroundColor="rgb(245, 245, 245)",e.value=a[o].textContent,s.scrollTo({top:a[a.length-1].offsetTop-50,behavior:"instant"}),e.value!==""?i.style.display="block":i.style.display="none";return}s.scrollTo({top:a[o].offsetTop-50,behavior:"instant"}),a[o+1].style.backgroundColor="",a[o].style.backgroundColor="rgb(245, 245, 245)",e.value=a[o].textContent,e.value!==""?i.style.display="block":i.style.display="none"}if(t.key==="ArrowDown"){if(a.length===0)return;let o=null;for(let r=0;r<a.length;r++)if(a[r].style.backgroundColor==="rgb(245, 245, 245)"){o=r+1;break}if(o===a.length){a[a.length-1].style.backgroundColor="",e.value=l.textContent,e.value!==""?i.style.display="block":i.style.display="none";return}if(o===null){o=0,a[o].style.backgroundColor="rgb(245, 245, 245)",e.value=a[o].textContent,s.scrollTo({top:a[0].offsetTop-50,behavior:"instant"}),e.value!==""?i.style.display="block":i.style.display="none";return}s.scrollTo({top:a[o].offsetTop-50,behavior:"instant"}),a[o-1].style.backgroundColor="",a[o].style.backgroundColor="rgb(245, 245, 245)",e.value=a[o].textContent,e.value!==""?i.style.display="block":i.style.display="none"}}t.key==="Escape"&&n&&n.remove()});function A(){const[t]=document.getElementsByClassName("navbar__button--open"),[n]=document.getElementsByClassName("navbar"),[e]=document.getElementsByClassName("navbar__button--close"),[s]=document.getElementsByClassName("footer__icon-github"),[l]=document.getElementsByClassName("flag-gallery");s.addEventListener("mouseover",()=>{l.classList.contains("dark-mode__page")?s.style.backgroundImage="url('/images/icons/icons-github-dark-mode-hover.svg')":s.style.backgroundImage="url('/images/icons/icons-github.svg')",s.addEventListener("mouseout",()=>{l.classList.contains("dark-mode__page")?s.style.backgroundImage="url('/images/icons/icons-github-dark-mode.svg')":s.style.backgroundImage="url('/images/icons/icons-github-hover.svg')"})}),t.addEventListener("click",function(a){if(n.style.left==="-25rem"||n.style.left===""){new Promise(o=>{n.style.left="0rem",o()}).then(o=>{setTimeout(()=>{document.addEventListener("click",i)},0)});return}if(n.style.left==="0rem"){n.contains(a.target)||(n.style.left="-25rem",document.removeEventListener("click",i));return}});function i(a){n.contains(a.target)||(n.style.left="-25rem",document.removeEventListener("click",i))}e.addEventListener("click",function(){n.style.left="-25rem",document.removeEventListener("click",i)}),document.addEventListener("keydown",a=>{a.key==="Escape"&&n.style.left==="0rem"&&(n.style.left="-25rem")})}function P(){const[t]=document.getElementsByClassName("flag-gallery__scroll-top");window.scrollY>=200?t.style.display!=="block"&&(t.style.display="block",setTimeout(()=>{t.style.opacity="1"},0)):t.style.display==="block"&&(t.style.opacity="0",setTimeout(()=>{t.style.display="none"},400))}function B(){function t(l){const[i]=document.getElementsByClassName("flag-gallery"),[a]=document.getElementsByClassName("flag-gallery__main"),[o]=document.getElementsByClassName("header"),[r]=document.getElementsByClassName("footer"),[c]=document.getElementsByClassName("header__title"),[u]=document.getElementsByClassName("navbar__button--open"),[g]=document.getElementsByClassName("footer__paragraph"),[m]=document.getElementsByClassName("header__settings"),[d]=document.getElementsByClassName("flag-gallery__subtitle"),[f]=document.getElementsByClassName("footer__icon-github"),[b]=document.getElementsByClassName("loading-animation__circle"),[p]=document.getElementsByClassName("flag-gallery__item--not-found"),h=document.getElementsByClassName("flag-gallery__button-info"),L=document.getElementsByClassName("navbar__icon"),N=document.getElementsByClassName("flag-gallery__flag-description");if(l==="activate"){o.classList.add("dark-mode__header"),r.classList.add("dark-mode__footer"),c.classList.add("dark-mode__header--title"),g.classList.add("dark-mode__game-text"),i.classList.add("dark-mode__page"),a.classList.add("dark-mode__page"),m.classList.add("dark-mode__button-settings"),u.classList.add("dark-mode__navbar-button-open"),f.classList.add("dark-mode__github-bt"),d.classList.add("dark-mode__game-text"),b.classList.add("dark-mode__loading-animation"),p&&p.classList.add("dark-mode__game-text");for(let _ of L)_.classList.add("dark-mode__navbar-icon");for(let _ of N)_.classList.add("dark-mode__game-text");for(let _ of h)_.classList.add("dark-mode__info-button")}if(l==="deactivate"){o.classList.remove("dark-mode__header"),r.classList.remove("dark-mode__footer"),c.classList.remove("dark-mode__header--title"),g.classList.remove("dark-mode__game-text"),i.classList.remove("dark-mode__page"),a.classList.remove("dark-mode__page"),m.classList.remove("dark-mode__button-settings"),u.classList.remove("dark-mode__navbar-button-open"),f.classList.remove("dark-mode__github-bt"),d.classList.remove("dark-mode__game-text"),b.classList.remove("dark-mode__loading-animation"),p&&p.classList.remove("dark-mode__game-text");for(let _ of L)_.classList.remove("dark-mode__navbar-icon");for(let _ of N)_.classList.remove("dark-mode__game-text");for(let _ of h)_.classList.remove("dark-mode__info-button")}}const[n]=document.getElementsByClassName("dark-mode-bt"),[e]=document.getElementsByClassName("dark-mode-bt__circle");let s;if(localStorage.getItem("darkMode")===""){if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(localStorage.setItem("darkMode","1"),s=Number(localStorage.getItem("darkMode"))):(localStorage.setItem("darkMode","0"),s=Number(localStorage.getItem("darkMode"))),s){t("activate");return}return}else s=Number(localStorage.getItem("darkMode"));t(s?"activate":"deactivate"),n&&(s?(e.style.left="32px",n.style.backgroundColor="#0D336B"):(e.style.left="3px",n.style.backgroundColor="#BFE1FF")),n&&n.addEventListener("click",function(){e.style.left==="3px"?(e.style.left="32px",n.style.backgroundColor="#0D336B",localStorage.setItem("darkMode","1"),t("activate")):(e.style.left="3px",n.style.backgroundColor="#BFE1FF",localStorage.setItem("darkMode","0"),t("deactivate"))})}function O(){function t(a){a.style.height="14rem",a.style.width="26rem",a.style.opacity="0",setTimeout(()=>{a.style.opacity="1"},15),setTimeout(()=>{a.style.height="15rem",a.style.width="28rem"},15)}async function n(a){return new Promise(o=>{a.style.height="14rem",a.style.width="26rem",setTimeout(()=>{a.style.opacity="0"},15),setTimeout(()=>{o()},100)})}const e=`       
            <section class="presentation__section">
            <button class="presentation__header-link" title="Cerrar" type="button"
                    >
                </button>
            
               <div class="presentation__div">
               <h2 class="presentation__subtitle">Configuración</h2>

               <div class="presentation__subtitle">Modo oscuro</div>
               <button class="dark-mode-bt" type="button" title="Modo oscuro">
                  <img width="20" height="20" src="/images/icons/icons-sun.svg" alt="sun-symbol" class="dark-mode-bt__sun"/>
    
                  <div class="dark-mode-bt__circle"></div>
           
                  <img width="20" height="20" src="/images/icons/icons-moon.png" alt="moon-symbol" class="dark-mode-bt__moon"/>
               </button>
        </section>
        <div class="blurry-background"></div>
`,[s]=document.getElementsByClassName("header__settings");let[l]=document.getElementsByClassName("flag-gallery");s.addEventListener("click",async()=>{i()});async function i(a){return new Promise(o=>{s.blur(),l.insertAdjacentHTML("beforeend",e);let[r]=document.getElementsByClassName("presentation__section"),[c]=document.getElementsByClassName("blurry-background");const[u]=document.getElementsByClassName("presentation__header-link");r.classList.add("settings"),t(r);function g(f){!r.contains(f.target)&&f.target!==s&&r.classList.contains("settings")&&n(r).then(()=>{c.remove(),r.remove(),document.removeEventListener("click",g)})}B(),u.addEventListener("click",function(){n(r).then(()=>{c.remove(),r.remove(),document.removeEventListener("click",g)})}),document.addEventListener("keydown",m),document.addEventListener("click",g);function m(f){d(f)}function d(f,b){f.key==="Escape"&&r&&n(r).then(()=>{c.remove(),r.remove(),document.removeEventListener("click",g),document.removeEventListener("keydown",m)})}})}}
